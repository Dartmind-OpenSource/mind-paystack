# Core Concepts

This page explains the fundamental building blocks of the **MindPaystack** SDK.

---

## 1. Initialization

Before using any service, you must initialize the SDK with `MindPaystack.init()`.

```dart
await MindPaystack.init(
  PaystackConfig(
    publicKey: 'pk_test_1234567890',
    secretKey: 'sk_test_1234567890',
    environment: Environment.test,
  ),
);
```

Once initialized, you can access the SDK through:

```dart
final paystack = MindPaystack.instance;
```

---

## 2. Services

MindPaystack uses a **service-oriented architecture**.  
Each feature is accessed through its dedicated service:

| Service                 | Accessor                          | Purpose |
|-------------------------|------------------------------------|---------|
| `PaymentMethodService`  | `paystack.paymentMethods`          | Manage and retrieve payment methods |
| `ChargeService`         | `paystack.charge`                  | Create and manage charges |
| `TransactionService`    | `paystack.transaction`             | Handle transactions |
| `PaymentChannelService` | `paystack.paymentChannel`          | Get available payment channels |

Example:

```dart
final methods = await paystack.paymentMethods.getAll();
final transaction = await paystack.transaction.verify('trx_ref');
```

---

## 3. Dependency Injection

MindPaystack uses **dependency injection (DI)** internally via `get_it` and `injectable`.

- `configureDependencies()` sets up all required services.
- `resolveWithParameter<T, P>()` allows retrieving services with a configuration parameter.

You rarely need to call DI methods directly unless youâ€™re extending the SDK.

---

## 4. Error Handling

All SDK errors are wrapped in the `MindException` class.

```dart
try {
  final result = await paystack.charge.create(amount: 5000);
} on MindException catch (e) {
  print('Error: ${e.message} (code: ${e.code})');
}
```

---

## 5. Configuration Management

The `PaystackConfig` provided at initialization is used throughout the SDK:

```dart
final config = paystack.config;
print(config.publicKey);
```

---

## Key Points
- Always **initialize before use**.
- Use services for organized access to features.
- Handle errors with `MindException`.
- Configuration is immutable once initialized.
